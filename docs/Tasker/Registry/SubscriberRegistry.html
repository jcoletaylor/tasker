<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Tasker::Registry::SubscriberRegistry
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Tasker::Registry::SubscriberRegistry";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Tasker.html" title="Tasker (module)">Tasker</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Registry.html" title="Tasker::Registry (module)">Registry</a></span></span>
     &raquo; 
    <span class="title">SubscriberRegistry</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Tasker::Registry::SubscriberRegistry
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="BaseRegistry.html" title="Tasker::Registry::BaseRegistry (class)">BaseRegistry</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="BaseRegistry.html" title="Tasker::Registry::BaseRegistry (class)">BaseRegistry</a></span></li>
          
            <li class="next">Tasker::Registry::SubscriberRegistry</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>Singleton</dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/tasker/registry/subscriber_registry.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Registry for managing event subscribers</p>

<p>Provides centralized management of event subscribers with discovery, registration, and event-based lookup capabilities. Integrates with the existing event system to provide comprehensive subscriber coordination.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Register a subscriber</p>
</div></h5>
      
      <pre class="example code"><code><span class='id identifier rubyid_registry'>registry</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Tasker.html" title="Tasker (module)">Tasker</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Registry.html" title="Tasker::Registry (module)">Registry</a></span></span><span class='op'>::</span><span class='const'>SubscriberRegistry</span><span class='period'>.</span><span class='id identifier rubyid_instance'>instance</span>
<span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_register'>register</span><span class='lparen'>(</span><span class='const'>MySubscriber</span><span class='comma'>,</span> <span class='label'>events:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>task.created</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>task.completed</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Find subscribers for an event</p>
</div></h5>
      
      <pre class="example code"><code><span class='id identifier rubyid_subscribers'>subscribers</span> <span class='op'>=</span> <span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_subscribers_for_event'>subscribers_for_event</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>task.created</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span></code></pre>
    
      
        <h5 class="example_title"><div class='inline'>
<p>Auto-discover subscribers</p>
</div></h5>
      
      <pre class="example code"><code><span class='id identifier rubyid_registry'>registry</span><span class='period'>.</span><span class='id identifier rubyid_auto_discover_subscribers'>auto_discover_subscribers</span></code></pre>
    
  </div>


</div>


  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants included
     from <span class='object_link'><a href="../Concerns/StructuredLogging.html" title="Tasker::Concerns::StructuredLogging (module)">Concerns::StructuredLogging</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Concerns/StructuredLogging.html#CORRELATION_ID_KEY-constant" title="Tasker::Concerns::StructuredLogging::CORRELATION_ID_KEY (constant)">Concerns::StructuredLogging::CORRELATION_ID_KEY</a></span></p>





  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_items-instance_method" title="#all_items (instance method)">#<strong>all_items</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get all registered subscribers (required by BaseRegistry).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all_subscribers-instance_method" title="#all_subscribers (instance method)">#<strong>all_subscribers</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get all registered subscribers.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#auto_discover_subscribers-instance_method" title="#auto_discover_subscribers (instance method)">#<strong>auto_discover_subscribers</strong>(directory = nil)  &#x21d2; Integer </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Auto-discover subscribers in the subscribers directory.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clear!-instance_method" title="#clear! (instance method)">#<strong>clear!</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Clear all registered subscribers (required by BaseRegistry).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#has_subscribers%3F-instance_method" title="#has_subscribers? (instance method)">#<strong>has_subscribers?</strong>(event_name)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check if an event has any subscribers.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; SubscriberRegistry </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of SubscriberRegistry.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#register-instance_method" title="#register (instance method)">#<strong>register</strong>(subscriber_class, events: [], replace: false, **options)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Register an event subscriber.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#stats-instance_method" title="#stats (instance method)">#<strong>stats</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get comprehensive registry statistics.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subscribers_for_event-instance_method" title="#subscribers_for_event (instance method)">#<strong>subscribers_for_event</strong>(event_name)  &#x21d2; Array&lt;Hash&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get subscribers for a specific event.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#supported_events-instance_method" title="#supported_events (instance method)">#<strong>supported_events</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get supported events across all subscribers.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unregister-instance_method" title="#unregister (instance method)">#<strong>unregister</strong>(subscriber_class)  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Unregister an event subscriber.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="BaseRegistry.html" title="Tasker::Registry::BaseRegistry (class)">BaseRegistry</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="BaseRegistry.html#base_stats-instance_method" title="Tasker::Registry::BaseRegistry#base_stats (method)">#base_stats</a></span>, <span class='object_link'><a href="BaseRegistry.html#health_check-instance_method" title="Tasker::Registry::BaseRegistry#health_check (method)">#health_check</a></span>, <span class='object_link'><a href="BaseRegistry.html#healthy%3F-instance_method" title="Tasker::Registry::BaseRegistry#healthy? (method)">#healthy?</a></span>, <span class='object_link'><a href="BaseRegistry.html#log_registration-instance_method" title="Tasker::Registry::BaseRegistry#log_registration (method)">#log_registration</a></span>, <span class='object_link'><a href="BaseRegistry.html#log_registry_error-instance_method" title="Tasker::Registry::BaseRegistry#log_registry_error (method)">#log_registry_error</a></span>, <span class='object_link'><a href="BaseRegistry.html#log_registry_operation-instance_method" title="Tasker::Registry::BaseRegistry#log_registry_operation (method)">#log_registry_operation</a></span>, <span class='object_link'><a href="BaseRegistry.html#log_unregistration-instance_method" title="Tasker::Registry::BaseRegistry#log_unregistration (method)">#log_unregistration</a></span>, <span class='object_link'><a href="BaseRegistry.html#log_validation_failure-instance_method" title="Tasker::Registry::BaseRegistry#log_validation_failure (method)">#log_validation_failure</a></span>, <span class='object_link'><a href="BaseRegistry.html#thread_safe_operation-instance_method" title="Tasker::Registry::BaseRegistry#thread_safe_operation (method)">#thread_safe_operation</a></span>, <span class='object_link'><a href="BaseRegistry.html#validate_registration_params!-instance_method" title="Tasker::Registry::BaseRegistry#validate_registration_params! (method)">#validate_registration_params!</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Concerns/StructuredLogging.html" title="Tasker::Concerns::StructuredLogging (module)">Concerns::StructuredLogging</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Concerns/StructuredLogging.html#correlation_id-instance_method" title="Tasker::Concerns::StructuredLogging#correlation_id (method)">#correlation_id</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#correlation_id=-instance_method" title="Tasker::Concerns::StructuredLogging#correlation_id= (method)">#correlation_id=</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#log_exception-instance_method" title="Tasker::Concerns::StructuredLogging#log_exception (method)">#log_exception</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#log_orchestration_event-instance_method" title="Tasker::Concerns::StructuredLogging#log_orchestration_event (method)">#log_orchestration_event</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#log_performance_event-instance_method" title="Tasker::Concerns::StructuredLogging#log_performance_event (method)">#log_performance_event</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#log_step_event-instance_method" title="Tasker::Concerns::StructuredLogging#log_step_event (method)">#log_step_event</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#log_structured-instance_method" title="Tasker::Concerns::StructuredLogging#log_structured (method)">#log_structured</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#log_task_event-instance_method" title="Tasker::Concerns::StructuredLogging#log_task_event (method)">#log_task_event</a></span>, <span class='object_link'><a href="../Concerns/StructuredLogging.html#with_correlation_id-instance_method" title="Tasker::Concerns::StructuredLogging#with_correlation_id (method)">#with_correlation_id</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="Tasker::Registry::SubscriberRegistry (class)">SubscriberRegistry</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of SubscriberRegistry.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


28
29
30
31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 28</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='kw'>super</span>
  <span class='ivar'>@subscribers</span> <span class='op'>=</span> <span class='const'>Concurrent</span><span class='op'>::</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@event_mappings</span> <span class='op'>=</span> <span class='const'>Concurrent</span><span class='op'>::</span><span class='const'>Hash</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_log_registry_operation'>log_registry_operation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>initialized</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>total_subscribers:</span> <span class='int'>0</span><span class='comma'>,</span> <span class='label'>total_events:</span> <span class='int'>0</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="all_items-instance_method">
  
    #<strong>all_items</strong>  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get all registered subscribers (required by BaseRegistry)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>All registered subscribers</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


132
133
134</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 132</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_items'>all_items</span>
  <span class='id identifier rubyid_all_subscribers'>all_subscribers</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="all_subscribers-instance_method">
  
    #<strong>all_subscribers</strong>  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get all registered subscribers</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>All registered subscribers</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all_subscribers'>all_subscribers</span>
  <span class='ivar'>@subscribers</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="auto_discover_subscribers-instance_method">
  
    #<strong>auto_discover_subscribers</strong>(directory = nil)  &#x21d2; <tt>Integer</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Auto-discover subscribers in the subscribers directory</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>directory</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Directory to search for subscribers</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Number of subscribers discovered</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 155</span>

<span class='kw'>def</span> <span class='id identifier rubyid_auto_discover_subscribers'>auto_discover_subscribers</span><span class='lparen'>(</span><span class='id identifier rubyid_directory'>directory</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_directory'>directory</span> <span class='op'>||=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_dirname'>dirname</span><span class='lparen'>(</span><span class='kw'>__FILE__</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>..</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>events</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>subscribers</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='kw'>return</span> <span class='int'>0</span> <span class='kw'>unless</span> <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_exist?'>exist?</span><span class='lparen'>(</span><span class='id identifier rubyid_directory'>directory</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_discovered_count'>discovered_count</span> <span class='op'>=</span> <span class='int'>0</span>

  <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_glob'>glob</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='id identifier rubyid_directory'>directory</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>*_subscriber.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_file'>file</span><span class='op'>|</span>
    <span class='id identifier rubyid_require'>require</span> <span class='id identifier rubyid_file'>file</span>

    <span class='comment'># Extract class name from filename
</span>    <span class='id identifier rubyid_class_name'>class_name</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>.rb</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_camelize'>camelize</span>
    <span class='id identifier rubyid_full_class_name'>full_class_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tasker::Events::Subscribers::</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_class_name'>class_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

    <span class='kw'>begin</span>
      <span class='comment'># Try to instantiate the subscriber
</span>      <span class='id identifier rubyid_subscriber_class'>subscriber_class</span> <span class='op'>=</span> <span class='id identifier rubyid_full_class_name'>full_class_name</span><span class='period'>.</span><span class='id identifier rubyid_constantize'>constantize</span>

      <span class='comment'># Auto-discover events from class methods or constants
</span>      <span class='id identifier rubyid_events'>events</span> <span class='op'>=</span> <span class='id identifier rubyid_discover_subscriber_events'>discover_subscriber_events</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_register'>register</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='comma'>,</span> <span class='label'>events:</span> <span class='id identifier rubyid_events'>events</span><span class='comma'>,</span> <span class='label'>auto_discovered:</span> <span class='kw'>true</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_discovered_count'>discovered_count</span> <span class='op'>+=</span> <span class='int'>1</span>

      <span class='id identifier rubyid_log_registry_operation'>log_registry_operation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>auto_discovered_subscriber</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                             <span class='label'>subscriber_name:</span> <span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span>
                             <span class='label'>events:</span> <span class='id identifier rubyid_events'>events</span><span class='comma'>,</span>
                             <span class='label'>file_path:</span> <span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>StandardError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_log_registry_error'>log_registry_error</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>auto_discovery_failed</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='comma'>,</span>
                         <span class='label'>file_path:</span> <span class='id identifier rubyid_file'>file</span><span class='comma'>,</span>
                         <span class='label'>class_name:</span> <span class='id identifier rubyid_full_class_name'>full_class_name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_discovered_count'>discovered_count</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clear!-instance_method">
  
    #<strong>clear!</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Clear all registered subscribers (required by BaseRegistry)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>True if cleared successfully</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


210
211
212
213
214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 210</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clear!'>clear!</span>
  <span class='id identifier rubyid_thread_safe_operation'>thread_safe_operation</span> <span class='kw'>do</span>
    <span class='ivar'>@subscribers</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='ivar'>@event_mappings</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
    <span class='id identifier rubyid_log_registry_operation'>log_registry_operation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cleared_all</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="has_subscribers?-instance_method">
  
    #<strong>has_subscribers?</strong>(event_name)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check if an event has any subscribers</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>event_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Event name to check</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>True if event has subscribers</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 147</span>

<span class='kw'>def</span> <span class='id identifier rubyid_has_subscribers?'>has_subscribers?</span><span class='lparen'>(</span><span class='id identifier rubyid_event_name'>event_name</span><span class='rparen'>)</span>
  <span class='ivar'>@event_mappings</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_event_name'>event_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@event_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_event_name'>event_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="register-instance_method">
  
    #<strong>register</strong>(subscriber_class, events: [], replace: false, **options)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Register an event subscriber</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>subscriber_class</span>
      
      
        <span class='type'>(<tt>Class</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The subscriber class to register</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>events</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>[]</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Events this subscriber handles</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>replace</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>false</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Whether to replace existing subscriber</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Additional registration options</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>True if registration successful</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If subscriber already exists and replace is false</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 43</span>

<span class='kw'>def</span> <span class='id identifier rubyid_register'>register</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='comma'>,</span> <span class='label'>events:</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>replace:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subscriber_name'>subscriber_name</span> <span class='op'>=</span> <span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_demodulize'>demodulize</span><span class='period'>.</span><span class='id identifier rubyid_underscore'>underscore</span>

  <span class='id identifier rubyid_thread_safe_operation'>thread_safe_operation</span> <span class='kw'>do</span>
    <span class='comment'># Validate subscriber interface
</span>    <span class='kw'>begin</span>
      <span class='const'><span class='object_link'><a href="../Registry.html" title="Tasker::Registry (module)">Registry</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="InterfaceValidator.html" title="Tasker::Registry::InterfaceValidator (class)">InterfaceValidator</a></span></span><span class='period'>.</span><span class='id identifier rubyid_validate_subscriber!'><span class='object_link'><a href="InterfaceValidator.html#validate_subscriber!-class_method" title="Tasker::Registry::InterfaceValidator.validate_subscriber! (method)">validate_subscriber!</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='rparen'>)</span>
    <span class='kw'>rescue</span> <span class='const'>ArgumentError</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_e'>e</span>
      <span class='id identifier rubyid_log_validation_failure'>log_validation_failure</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>event_subscriber</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='comma'>,</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_raise'>raise</span>
    <span class='kw'>end</span>

    <span class='comment'># Check for existing subscriber
</span>    <span class='kw'>if</span> <span class='ivar'>@subscribers</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_replace'>replace</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Subscriber &#39;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39; already registered. Use replace: true to override.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>

    <span class='comment'># Remove existing subscriber if replacing
</span>    <span class='kw'>if</span> <span class='ivar'>@subscribers</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_existing_config'>existing_config</span> <span class='op'>=</span> <span class='ivar'>@subscribers</span><span class='lbracket'>[</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_unregister_event_mappings'>unregister_event_mappings</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='comma'>,</span> <span class='id identifier rubyid_existing_config'>existing_config</span><span class='lbracket'>[</span><span class='symbol'>:events</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_log_unregistration'>log_unregistration</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>event_subscriber</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='comma'>,</span> <span class='id identifier rubyid_existing_config'>existing_config</span><span class='lbracket'>[</span><span class='symbol'>:subscriber_class</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='comment'># Register subscriber
</span>    <span class='id identifier rubyid_subscriber_config'>subscriber_config</span> <span class='op'>=</span> <span class='lbrace'>{</span>
      <span class='label'>subscriber_class:</span> <span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='comma'>,</span>
      <span class='label'>events:</span> <span class='id identifier rubyid_events'>events</span><span class='comma'>,</span>
      <span class='label'>registered_at:</span> <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span>
      <span class='label'>options:</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='label'>replace:</span> <span class='id identifier rubyid_replace'>replace</span><span class='rparen'>)</span>
    <span class='rbrace'>}</span>

    <span class='ivar'>@subscribers</span><span class='lbracket'>[</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_subscriber_config'>subscriber_config</span>

    <span class='comment'># Index by events
</span>    <span class='id identifier rubyid_register_event_mappings'>register_event_mappings</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='comma'>,</span> <span class='id identifier rubyid_events'>events</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_log_registration'>log_registration</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>event_subscriber</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='comma'>,</span>
                     <span class='lbrace'>{</span> <span class='label'>events:</span> <span class='id identifier rubyid_events'>events</span><span class='comma'>,</span> <span class='label'>event_count:</span> <span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_options'>options</span> <span class='rbrace'>}</span><span class='rparen'>)</span>

    <span class='kw'>true</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="stats-instance_method">
  
    #<strong>stats</strong>  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get comprehensive registry statistics</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Detailed statistics about the registry</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


196
197
198
199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 196</span>

<span class='kw'>def</span> <span class='id identifier rubyid_stats'>stats</span>
  <span class='id identifier rubyid_base_stats'>base_stats</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span>
    <span class='label'>total_subscribers:</span> <span class='ivar'>@subscribers</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span>
    <span class='label'>total_events:</span> <span class='ivar'>@event_mappings</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='comma'>,</span>
    <span class='label'>events_covered:</span> <span class='ivar'>@event_mappings</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span><span class='comma'>,</span>
    <span class='label'>subscribers_by_event:</span> <span class='ivar'>@event_mappings</span><span class='period'>.</span><span class='id identifier rubyid_transform_values'>transform_values</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:size</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>average_events_per_subscriber:</span> <span class='id identifier rubyid_calculate_average_events_per_subscriber'>calculate_average_events_per_subscriber</span><span class='comma'>,</span>
    <span class='label'>most_popular_events:</span> <span class='id identifier rubyid_find_most_popular_events'>find_most_popular_events</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subscribers_for_event-instance_method">
  
    #<strong>subscribers_for_event</strong>(event_name)  &#x21d2; <tt>Array&lt;Hash&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get subscribers for a specific event</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>event_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The event name to find subscribers for</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Hash&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array of subscriber configurations</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


117
118
119
120</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 117</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subscribers_for_event'>subscribers_for_event</span><span class='lparen'>(</span><span class='id identifier rubyid_event_name'>event_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subscriber_names'>subscriber_names</span> <span class='op'>=</span> <span class='ivar'>@event_mappings</span><span class='lbracket'>[</span><span class='id identifier rubyid_event_name'>event_name</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_subscriber_names'>subscriber_names</span><span class='period'>.</span><span class='id identifier rubyid_filter_map'>filter_map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_name'>name</span><span class='op'>|</span> <span class='ivar'>@subscribers</span><span class='lbracket'>[</span><span class='id identifier rubyid_name'>name</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="supported_events-instance_method">
  
    #<strong>supported_events</strong>  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get supported events across all subscribers</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Array of supported event names</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 139</span>

<span class='kw'>def</span> <span class='id identifier rubyid_supported_events'>supported_events</span>
  <span class='ivar'>@event_mappings</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unregister-instance_method">
  
    #<strong>unregister</strong>(subscriber_class)  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Unregister an event subscriber</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>subscriber_class</span>
      
      
        <span class='type'>(<tt>Class</tt>, <tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The subscriber class or name to unregister</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>True if unregistered successfully</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/tasker/registry/subscriber_registry.rb', line 91</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unregister'>unregister</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subscriber_name'>subscriber_name</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Class</span><span class='rparen'>)</span>
                      <span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_demodulize'>demodulize</span><span class='period'>.</span><span class='id identifier rubyid_underscore'>underscore</span>
                    <span class='kw'>else</span>
                      <span class='id identifier rubyid_subscriber_class'>subscriber_class</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
                    <span class='kw'>end</span>

  <span class='id identifier rubyid_thread_safe_operation'>thread_safe_operation</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_subscriber_config'>subscriber_config</span> <span class='op'>=</span> <span class='ivar'>@subscribers</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_subscriber_config'>subscriber_config</span>
      <span class='comment'># Remove from event mappings
</span>      <span class='id identifier rubyid_unregister_event_mappings'>unregister_event_mappings</span><span class='lparen'>(</span><span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_config'>subscriber_config</span><span class='lbracket'>[</span><span class='symbol'>:events</span><span class='rbracket'>]</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_log_unregistration'>log_unregistration</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>event_subscriber</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_name'>subscriber_name</span><span class='comma'>,</span> <span class='id identifier rubyid_subscriber_config'>subscriber_config</span><span class='lbracket'>[</span><span class='symbol'>:subscriber_class</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>false</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Jul  3 17:10:31 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.2.4).
</div>

    </div>
  </body>
</html>